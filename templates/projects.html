{% extends "_layout.html" %}
{% block title %}Saved Projects{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto p-4 md:p-8">
    <h1 class="text-3xl font-bold text-slate-800 mb-6">Saved Projects</h1>
    <div class="bg-white rounded-xl shadow-md overflow-hidden">
        <ul class="divide-y divide-slate-200">
            {% for project in projects %}
            <li class="p-4 hover:bg-slate-50 group">
                <div class="flex items-center justify-between">
                    <div>
                        <a href="{{ url_for('view_project', project_id=project.id) }}" class="text-lg font-semibold text-sky-600 hover:underline">{{ project.name }}</a>
                        <p class="text-sm text-slate-500">Saved on: {{ project.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
                    </div>
                    <div class="flex items-center space-x-4 opacity-0 group-hover:opacity-100 transition-opacity">
                        <a href="{{ url_for('view_project', project_id=project.id) }}" class="text-sm font-medium text-sky-600 hover:text-sky-800">Load</a>
                        <form action="{{ url_for('delete_project_route', project_id=project.id) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this project?');">
                            <button type="submit" class="text-sm font-medium text-red-600 hover:text-red-800">Delete</button>
                        </form>
                    </div>
                </div>
            </li>
            {% else %}
            <li class="p-4 text-center text-slate-500">No projects have been saved yet.</li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}